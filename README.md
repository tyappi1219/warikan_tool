# 割り勘ツール v1.0

シンプルで効率的な割り勘計算ツール

[オンラインで試す](https://tyappi1219.github.io/warikan_tool/) | [GitHub](https://github.com/tyappi1219/warikan_tool)

## 機能

- ✅ **複数人での割り勘計算** - グループの人数に制限なし
- ✅ **複数の計算モード** - 均等分割/特定人数選択/比率分割
- ✅ **最適な返金経路** - 貸し借り関係を最小化する計算アルゴリズム
- ✅ **複数支払者対応** - 複数人が費用を負担する場合に対応
- ✅ **計算過程の表示** - 各参加者の負担額の詳細内訳を確認
- ✅ **インライン編集** - 参加者・品目をテーブルで直接編集
- ✅ **ドラッグ&ドロップ** - 参加者・品目の並び替え
- ✅ **データ永続化** - localStorage に自動保存
- ✅ **JSON インポート/エクスポート** - データのバックアップと共有
- ✅ **日本語・英語対応** - 多言語サポート
- ✅ **ダークテーマ対応** - 時間帯に応じた自動テーマ切り替え
- ✅ **プリント対応** - 結果を紙に印刷可能

## 使い方

### オンライン利用
[GitHub Pages](https://tyappi1219.github.io/warikan_tool/) でいますぐ利用できます

### ローカル利用
```bash
git clone https://github.com/tyappi1219/warikan_tool.git
cd warikan_tool
# ブラウザで index.html を開く
```

## 基本操作

1. **参加者を追加** - 「参加者を追加」ボタンで参加者名を入力
2. **品目を追加** - 「品目を追加」ボタンで商品名・金額を入力
3. **負担モード選択** - 各品目ごとに計算方法を選択
   - **均等分割**: 全員で等しく負担
   - **選択**: 特定の人だけが負担（チェックボックスで選択）
   - **比率**: 指定した比率で負担を配分
4. **計算実行** - 「計算」ボタンで結果を表示

## 計算のしくみ

### 基本アルゴリズム
- **均等分割**: 金額 ÷ 人数
- **選択分割**: 選択人数だけで等分割
- **比率分割**: 指定比率に応じた配分
- **最小返金経路**: 貸し借り関係を最小限に整理（貪欲マッチングアルゴリズム）

### 計算例
3人で ¥3,000 の食事代を割り勘
- A さんが全額支払い
- 均等分割で計算すると、B さんと C さんは各 ¥1,000 を A さんに返金

## ファイル構成

```
.
├── index.html              # UI マークアップ
├── style.css               # スタイル定義（レスポンシブ、テーマ対応）
├── core.js                 # メインロジック（計算エンジン、UI操作）
├── test.html               # テストランナー（ブラウザ）
├── test.js                 # テストスイート
└── README.md               # このファイル
```

## 技術仕様

### スタック
- **HTML5** - セマンティックマークアップ
- **CSS3** - CSS Variables、Flexbox、Grid、Media Queries
- **Vanilla JavaScript** - フレームワーク不要（ES6+）

### ブラウザ対応
- Chrome/Edge ✅
- Firefox ✅
- Safari ✅
- iPhone/iPad (Safari) ✅

### ストレージ
- localStorage で自動保存（最大 5-10MB）
- JSON エクスポートで任意のファイルに保存可能

## テスト

ブラウザで `test.html` を開くと、計算ロジックの自動テストが実行されます

```bash
# または Node.js でテスト実行
node test.js
```

## ライセンス

MIT License

## 作成者

tyappi1219

---

**v1.0 リリース日**: 2024年12月
